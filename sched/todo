1. Understand the meaning of volatile and make sure the read/write in semaphore is save.
